{"version":3,"file":"static/webpack/static/development/pages/index.js.d060d1d96d14b1cfa741.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import fetch from 'isomorphic-unfetch';\nimport Layout from '../components/MyLayout.js';\nimport Search from '../components/Search';\nimport PokedexDisplay from '../components/PokedexDisplay';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchCriteria: \"\"\n    }\n  }\n\n  static async getInitialProps() {\n    let pokemon = {};\n    const ssTest = () => {\n      var test = 'test';\n      try {\n        sessionStorage.setItem(test, test);\n        sessionStorage.removeItem(test);\n        return true;\n      } catch(e) {\n      return false;\n      }\n    }\n    // check if session storage is set\n    if(ssTest() === true){\n      if(sessionStorage.getItem('data')){\n        pokemon = JSON.parse(sessionStorage.getItem('data'));\n      } else {\n        const response = await fetch(\"https://pokeapi.co/api/v2/pokemon?limit=718\");\n        pokemon = await response.json();\n      }\n    }else{\n      const response = await fetch(\"https://pokeapi.co/api/v2/pokemon?limit=718\");\n      pokemon = await response.json();\n    }\n    pokemon.results.forEach((pokemon, index) => pokemon.id = index+1);\n    return {pokemon};\n  }\n\n  componentDidMount() {\n    sessionStorage.setItem('data', JSON.stringify(this.props.pokemon));\n  }\n\n  configGenerator = () => {\n    let pokemon = this.props.pokemon.results;\n    let config = pokemon.map(pokemon => {\n      let element = `/pokemon/${pokemon.name}`;\n      return element;\n    })\n    console.log(config);\n    return null;\n  }\n\n  searchFilter = e => {\n    let searchCriteria = e.target.value.toLowerCase();\n    this.setState({searchCriteria: searchCriteria});\n  }\n\n  render() {\n    return (\n      <Layout>\n        <Search searchFilter={this.searchFilter} />\n        <PokedexDisplay pokemon={this.props.pokemon.results} searchCriteria={this.state.searchCriteria} />\n        <div>{this.configGenerator()}</div>\n      </Layout>\n    )\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhDA;AAkDA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAnDA;AACA;AADA;AAFA;AAKA;AACA;;;AA6BA;AACA;AACA;;;AAiBA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;;;;;AAtDA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;AACA;;;;;AACA;;;;;;AAEA;AACA;;AADA;;AACA;AACA;;AADA;AACA;;;;;;;AAEA;AACA;;AADA;;AACA;AACA;;AADA;AACA;;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAlCA;AACA;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}